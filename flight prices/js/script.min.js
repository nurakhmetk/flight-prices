const form=document.getElementById("form"),originInputValue=document.getElementById("originInput"),destinationInputValue=document.getElementById("destinationInput"),departureDateValue=document.getElementById("departureDate"),returnDateValue=document.getElementById("returnDate"),currencyValue=document.getElementById("currency"),button=document.getElementById("button"),airlineP=document.getElementById("airline-p"),originP=document.getElementById("origin-p"),destinationP=document.getElementById("destination-p"),departureP=document.getElementById("departure-p"),returnP=document.getElementById("return-p"),priceP=document.getElementById("price-p"),flightP=document.getElementById("flight-p"),transfersP=document.getElementById("transfers-p"),contentBody=document.getElementById("contentBody"),content=document.querySelector(".content"),contentOutput=document.createElement("div");contentOutput.setAttribute("class","content__output");const contentOutputDiv=document.createElement("div");contentOutputDiv.setAttribute("class","content__output-body"),content.appendChild(contentOutput),form.addEventListener("submit",getFromValue);let div=document.createElement("div");function getFromValue(e){e.preventDefault();const t={OriginCity:originInputValue.value,DestinationCity:destinationInputValue.value,DepartureDate:departureDateValue.value,ReturnDate:returnDateValue.value,Currency:currencyValue.value};let n=null;n=`https://floating-sea-73933.herokuapp.com/https://api.travelpayouts.com/v1/prices/calendar?calendar_type=departure_date&origin=${t.OriginCity}&destination=${t.DestinationCity}&depart_date=${t.DepartureDate}&return_date=${t.ReturnDate}&currency=${t.Currency}&token=1b74596b5a8f332ac7268a410709eca6`;const d=new XMLHttpRequest;d.addEventListener("readystatechange",(function(){if(this.readyState===this.DONE){var e=JSON.parse(this.responseText);const d=e.data,r=e.currency,a=(Object.keys(d),Object.values(d));let l=document.createElement("table"),u=document.createElement("thead"),i=document.createElement("tbody");l.appendChild(u),l.appendChild(i);let c=document.createElement("tr"),o=document.createElement("th");o.innerHTML="Airline";let p=document.createElement("th");p.innerHTML="Origin City";let m=document.createElement("th");m.innerHTML="Destination City";let s=document.createElement("th");s.innerHTML="Flight Number";let h=document.createElement("th");h.innerHTML="Departure Date";let E=document.createElement("th");E.innerHTML="Return Date";let y=document.createElement("th");y.innerHTML="Price";let g=document.createElement("div");for(var t=0;t<a.length;t++){g.setAttribute("class","parent-div"),c.appendChild(o),c.appendChild(p),c.appendChild(m),c.appendChild(s),c.appendChild(h),c.appendChild(E),c.appendChild(y),u.appendChild(c);let e=document.createElement("tr"),d=document.createElement("td");d.innerHTML=`${a[t].airline}`;let C=document.createElement("td");C.innerHTML=`${a[t].origin}`;let v=document.createElement("td");v.innerHTML=`${a[t].destination}`;let D=document.createElement("td");D.innerHTML=`${a[t].flight_number}`;let I=document.createElement("td");I.innerHTML=`${a[t].departure_at}`;let H=document.createElement("td");H.innerHTML=`${a[t].return_at}`;let B=document.createElement("td");B.innerHTML=`${a[t].price} ${r}`,e.appendChild(d),e.appendChild(C),e.appendChild(v),e.appendChild(D),e.appendChild(I),e.appendChild(H),e.appendChild(B),i.appendChild(e),g.appendChild(l),contentOutputDiv.appendChild(g),contentOutput.appendChild(contentOutputDiv),console.log(n),console.log(departureDateValue.value)}}})),d.open("GET",n),d.setRequestHeader("Access-Control-Allow-Origin","*"),d.setRequestHeader("Access-Control-Allow-Credentials","true"),d.setRequestHeader("Access-Control-Allow-Headers","content-type","Authorization"),d.setRequestHeader("Access-Control-Allow-Methods","POST, GET, OPTIONS"),d.setRequestHeader("Access-Control-Allow-Headers","X-Requested-With, content-type"),d.send(t)}contentBody.appendChild(div),div.setAttribute("class","created-div");