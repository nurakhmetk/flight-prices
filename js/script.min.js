const form=document.getElementById("form"),originInputValue=document.getElementById("originInput"),destinationInputValue=document.getElementById("destinationInput"),departureDateValue=document.getElementById("departureDate"),returnDateValue=document.getElementById("returnDate"),currencyValue=document.getElementById("currency"),button=document.getElementById("button"),airlineP=document.getElementById("airline-p"),originP=document.getElementById("origin-p"),destinationP=document.getElementById("destination-p"),departureP=document.getElementById("departure-p"),returnP=document.getElementById("return-p"),priceP=document.getElementById("price-p"),flightP=document.getElementById("flight-p"),transfersP=document.getElementById("transfers-p"),contentBody=document.getElementById("contentBody"),content=document.querySelector(".content"),contentOutput=document.createElement("div");contentOutput.setAttribute("class","content__output");const contentOutputDiv=document.createElement("div");contentOutputDiv.setAttribute("class","content__output-body"),content.appendChild(contentOutput),form.addEventListener("submit",getFromValue);let div=document.createElement("div");function getFromValue(e){e.preventDefault();const t={OriginCity:originInputValue.value,DestinationCity:destinationInputValue.value,DepartureDate:departureDateValue.value,ReturnDate:returnDateValue.value,Currency:currencyValue.value};let n=null;n=`https://cors-anywhere.herokuapp.com/https://api.travelpayouts.com/v1/prices/calendar?calendar_type=departure_date&origin=${t.OriginCity}&destination=${t.DestinationCity}&depart_date=${t.DepartureDate}&return_date=${t.ReturnDate}&currency=${t.Currency}&token=1b74596b5a8f332ac7268a410709eca6`;const r=new XMLHttpRequest;r.addEventListener("readystatechange",(function(){if(this.readyState===this.DONE){var e=JSON.parse(this.responseText);const l=e.data,p=e.currency,s=(Object.keys(l),Object.values(l));for(var t=0;t<s.length;t++){var n=document.createElement("div"),r=document.createElement("p"),a=document.createElement("p"),u=document.createElement("p"),d=document.createElement("p"),i=document.createElement("p"),o=document.createElement("p"),c=document.createElement("p");r.innerHTML+=`Airline: ${s[t].airline}`,a.innerHTML+=`Origin City: ${s[t].origin}`,u.innerHTML+=`Destination City: ${s[t].destination}`,d.innerHTML+=`Departure Date: ${s[t].departure_at}`,o.innerHTML+=`Flight Number: ${s[t].flight_number}`,c.innerHTML+=`Price: ${s[t].price} ${p}`,""===returnDateValue.value?console.log("Empty"):i.innerHTML+=`Return Date: ${s[t].return_at}`,n.setAttribute("class","parent-div"),n.appendChild(r),n.appendChild(a),n.appendChild(u),n.appendChild(o),n.appendChild(c),n.appendChild(d),n.appendChild(i),contentOutputDiv.appendChild(n),contentOutput.appendChild(contentOutputDiv)}}})),r.open("GET",n),r.setRequestHeader("Access-Control-Allow-Origin","*"),r.setRequestHeader("Access-Control-Allow-Credentials","true"),r.setRequestHeader("Access-Control-Allow-Headers","content-type","Authorization"),r.setRequestHeader("Access-Control-Allow-Methods","POST, GET, OPTIONS"),r.setRequestHeader("Access-Control-Allow-Headers","X-Requested-With, content-type"),r.send(t)}contentBody.appendChild(div),div.setAttribute("class","created-div");